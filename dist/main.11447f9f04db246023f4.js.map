{"version":3,"sources":["webpack:///main.11447f9f04db246023f4.js","webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["webpackJsonp","module","exports","__webpack_require__","global","_userApi","getUsers","then","result","usersBody","forEach","user","id","firstName","lastName","email","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","deleteUser","attributes","value","row","parentNode","removeChild","call","g","this","Function","eval","e","window","get","del","url","fetch","baseUrl","onSuccess","onError","request","Request","method","response","json","error","console","log","Object","defineProperty","_baseUrl","_baseUrl2","obj","__esModule","default","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GCPrCD,EAAA,EACA,IAAAE,GAAAF,EAAA,IAGA,EAAAE,EAAAC,YAAWC,KAAK,SAAAC,GACZ,GAAIC,GAAY,EAEhBD,GAAOE,QAAQ,SAAAC,GACXF,GAAa,gCAAiCE,EAAKC,GAAI,2CACvDD,EAAKC,GAAG,YAAYD,EAAKE,UAAU,YAAYF,EAAKG,SAAS,YAAYH,EAAKI,MAAM,eAGxFX,EAAOY,SAASC,eAAe,SAASC,UAAYT,CAEpD,IAAMU,GAAcf,EAAOY,SAASI,uBAAuB,aAI3DC,OAAMC,KAAKH,EAAa,SAAAI,GACpBA,EAAKC,QAAU,SAASC,GACpB,GAAMC,GAAUD,EAAME,QACtB,EAAAtB,EAAAuB,YAAWF,EAAQG,WAAW,WAAWC,MACzC,IAAMC,GAAML,EAAQM,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,UDaVG,KAAKhC,EAASC,EAAoB,KAIzD,SAAUF,EAAQC,GExCxB,GAAAiC,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAC,GAED,gBAAAC,UACAL,EAAAK,QAOAvC,EAAAC,QAAAiC,GF+CM,SAAUlC,EAAQC,KAMlB,SAAUD,EAAQC,EAASC,GAEjC,YGtEO,SAASG,KACZ,MAAOmC,GAAI,SAGR,QAASb,GAAWhB,GACvB,MAAO8B,GAAI,SAAU9B,GAGzB,QAAS6B,GAAIE,GACT,MAAOC,OAAMC,EAAUF,GAAKpC,KAAKuC,EAAWC,GAIhD,QAASL,GAAIC,GACT,GAAMK,GAAU,GAAIC,SAAQJ,EAAUF,GAClCO,OAAQ,UAGZ,OAAON,OAAMI,GAASzC,KAAKuC,EAAWC,GAE1C,QAASD,GAAUK,GACf,MAAOA,GAASC,OAGpB,QAASL,GAAQM,GACbC,QAAQC,IAAIF,GHgDhBG,OAAOC,eAAevD,EAAS,cAC3B4B,OAAO,IAEX5B,EG5EgBI,WH6EhBJ,EGzEgB0B,aAThBzB,EAAA,EACA,IAAAuD,GAAAvD,EAAA,GHuFIwD,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhDF,GGrFjCb,GAAU,EAAAc,EAAAG,YHwHV,SAAU7D,EAAQC,EAASC,GAEjC,YI7He,SAAS4D,KAGpB,MAAOC,GAA8B,cAAgB,yBAA2B,4CAGpF,QAASA,GAA8BC,EAAMtB,GACpCA,IACDA,EAAMH,OAAO0B,SAASC,MAE1BF,EAAOA,EAAKG,QAAS,QAAS,OAC9B,IAAIC,GAAQ,GAAIC,QAAO,OAASL,EAAO,qBACnCM,EAAUF,EAAMG,KAAK7B,EACzB,OAAI4B,GACAA,EAAQ,GACLE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD7B,GADH,KJmHxBZ,OAAOC,eAAevD,EAAS,cAC3B4B,OAAO,IAEX5B,EAAQ4D,QInIgBC,KJuJrB","file":"main.11447f9f04db246023f4.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n__webpack_require__(4);\n\nvar _userApi = __webpack_require__(5);\n\n// Populate table of users via API call\n(0, _userApi.getUsers)().then(function (result) {\n    var usersBody = \"\";\n\n    result.forEach(function (user) {\n        usersBody += '<tr><td><a href=\"#\" data-id=\"' + user.id + '\" class=\"deleteUser\">Delete</a></td><td>' + user.id + '</td><td>' + user.firstName + '</td><td>' + user.lastName + '</td><td>' + user.email + '</td></tr>';\n    });\n\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    var deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n    // must use array.from to create a real array from a DOM collection\n    // getElementByClassname only returns an \"array like\" object\n    Array.from(deleteLinks, function (link) {\n        link.onclick = function (event) {\n            var element = event.target;\n            (0, _userApi.deleteUser)(element.attributes[\"data-id\"].value);\n            var row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getUsers = getUsers;\nexports.deleteUser = deleteUser;\n\n__webpack_require__(0);\n\nvar _baseUrl = __webpack_require__(6);\n\nvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _baseUrl2.default)(); // polyfill\nfunction getUsers() {\n    return get('users');\n}\n\nfunction deleteUser(id) {\n    return del('users/' + id);\n}\n\nfunction get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\n//Can't callfunc delete since reserved word\nfunction del(url) {\n    var request = new Request(baseUrl + url, {\n        method: 'DELETE'\n    });\n\n    return fetch(request).then(onSuccess, onError);\n}\nfunction onSuccess(response) {\n    return response.json();\n}\n\nfunction onError(error) {\n    console.log(error); // eslint-disable-line no-console\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = getBaseUrl;\nfunction getBaseUrl() {\n    // const inDevelopment = window.location.hostname === 'localhost';\n    // return inDevelopment ? 'http://localhost:3002/' : '/';\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3002/' : 'https://quiet-island-84238.herokuapp.com/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n    if (!url) {\n        url = window.location.href;\n    }\n    name = name.replace(/[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n/***/ })\n],[2]);\n\n\n// WEBPACK FOOTER //\n// main.11447f9f04db246023f4.js","import './index.css';\nimport {getUsers, deleteUser} from './api/userApi';\n\n// Populate table of users via API call\ngetUsers().then(result => {\n    let usersBody = \"\";\n\n    result.forEach(user => {\n        usersBody += '<tr><td><a href=\"#\" data-id=\"'+ user.id +'\" class=\"deleteUser\">Delete</a></td><td>' + \n        user.id+'</td><td>'+user.firstName+'</td><td>'+user.lastName+'</td><td>'+user.email+'</td></tr>'\n    });\n\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    const deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n    // must use array.from to create a real array from a DOM collection\n    // getElementByClassname only returns an \"array like\" object\n    Array.from(deleteLinks, link => { \n        link.onclick = function(event) {\n            const element = event.target;\n            deleteUser(element.attributes[\"data-id\"].value);\n            const row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch'; // polyfill\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers(){\n    return get('users');\n}\n\nexport function deleteUser(id){\n    return del('users/'+ id);\n}\n\nfunction get(url){\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\n//Can't callfunc delete since reserved word\nfunction del(url){\n    const request = new Request(baseUrl + url, {\n        method: 'DELETE'\n    });\n\n    return fetch(request).then(onSuccess, onError);\n}\nfunction onSuccess(response){\n    return response.json();\n}\n\nfunction onError(error){\n    console.log(error); // eslint-disable-line no-console\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","export default function getBaseUrl(){\n    // const inDevelopment = window.location.hostname === 'localhost';\n    // return inDevelopment ? 'http://localhost:3002/' : '/';\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3002/' : 'https://quiet-island-84238.herokuapp.com/';\n}\n\nfunction getQueryStringParameterByName(name, url){\n    if (!url) {\n        url = window.location.href;\n    }\n    name = name.replace (/[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if(!results) return null;\n    if(!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g ,\" \"));\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js"],"sourceRoot":""}